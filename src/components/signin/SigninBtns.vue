<template>
  <div>
    <button
      class="w-md bg-neutral-100 hover:bg-neutral-200 text-gray py-2 rounded"
      data-test="google-signin-btn"
      @click="signInWithGoogle"
    >
      êµ¬ê¸€ë¡œ 3ì´ˆë§Œì— ì‹œì‘í•˜ê¸° ğŸ˜
    </button>
  </div>
</template>

<script setup lang="ts">
import { useRouter } from "vue-router";
import { useUserStore } from "../../stores/user";

const router = useRouter();
const userStore = useUserStore();

async function signInWithGoogle() {
  try {
    await userStore.oauthSignin("google");
    router.push("/");
  } catch {
    alert("ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
  }
}
</script>
